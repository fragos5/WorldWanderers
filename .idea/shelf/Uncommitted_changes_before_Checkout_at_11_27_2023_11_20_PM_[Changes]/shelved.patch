Index: app/src/main/java/com/example/worldwanderers/InportPage.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.worldwanderers;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ContentResolver;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.webkit.MimeTypeMap;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.squareup.picasso.Picasso;\r\n\r\npublic class InportPage extends AppCompatActivity {\r\n    private static final int PickImageRequest = 1;\r\n    private Uri mImageUri;\r\n    private StorageReference mStorageRef;\r\n    private DatabaseReference mDatabaseRef;\r\n    private Button submit_button;\r\n    private ImageView mImageView;\r\n\r\n\r\n    @SuppressLint(\"MissingInflatedId\")\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.inport);\r\n\r\n\r\n        Button camera_logo = findViewById(R.id.camera_logo);\r\n        ImageView image_from_gallery = findViewById(R.id.image_from_gallery);\r\n\r\n\r\n// arrow go back to main board\r\n        ImageView arrowBack;\r\n\r\n        arrowBack = findViewById(R.id.arrowBack);\r\n\r\n        arrowBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(InportPage.this, MainBoard.class);\r\n                startActivity(intent);\r\n            }\r\n\r\n        });\r\n\r\n\r\n        // gallery import\r\n\r\n        Button blue_gallery_logo = findViewById(R.id.blue_gallery_logo);\r\n        blue_gallery_logo.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                startActivityForResult(intent, 1);\r\n                openFileChooser();\r\n            }\r\n\r\n\r\n        });\r\n\r\n        mStorageRef = FirebaseStorage.getInstance().getReference(\"uploads\");\r\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference(\"uploads\");\r\n        mImageView = findViewById(R.id.mImageView);\r\n\r\n        submit_button = findViewById(R.id.submit_button);\r\n        submit_button.setOnClickListener(new View.OnClickListener() {\r\n\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                uploadImg();\r\n            }\r\n        });\r\n\r\n\r\n        //camera import\r\n        camera_logo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent image_from_gallery = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(image_from_gallery, 2);\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        ImageView image_from_gallery = findViewById(R.id.image_from_gallery);\r\n        if (resultCode == RESULT_OK) {\r\n            if (requestCode == 2) {\r\n                Bitmap img = (Bitmap) (data.getExtras().get(\"data\"));\r\n\r\n                // Check if img is not null before setting it\r\n                if (img != null) {\r\n                    image_from_gallery.setImageBitmap(img);\r\n                } else {\r\n                    // Handle the case where the Bitmap is null\r\n                }\r\n            } else if (requestCode == 1 && data != null) {\r\n                Uri selectedImage = data.getData();\r\n                image_from_gallery.setImageURI(selectedImage);\r\n            }\r\n        }\r\n        mImageUri = data.getData();\r\n        Toast.makeText(InportPage.this,\"mpike edw\",Toast.LENGTH_SHORT).show();\r\n        Picasso.get().load(mImageUri).into(mImageView);\r\n    }\r\n\r\n\r\n\r\n\r\n    private void openFileChooser(){\r\n        Intent intent = new Intent();\r\n        intent.setType(\"image/*\");\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(intent, PickImageRequest);\r\n    }\r\n\r\n\r\n\r\n    private void uploadImg() {\r\n        if (mImageUri != null) {\r\n            StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()\r\n                    + \".\" + getFileExtension(mImageUri));\r\n\r\n            fileReference.putFile(mImageUri)\r\n                    .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            Toast.makeText(InportPage.this,\"upload successful\",Toast.LENGTH_LONG).show();\r\n                            Upload upload = new Upload(\"Onoma123\",taskSnapshot.getMetadata().getReference().getDownloadUrl().toString());\r\n                            String uploadId = mDatabaseRef.push().getKey();\r\n                            mDatabaseRef.child(uploadId).setValue(upload);\r\n\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(InportPage.this,\"upload failed\",Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    })\r\n            ;\r\n\r\n        } else {\r\n            Toast.makeText(this,\"None selected\",Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    private String getFileExtension(Uri uri){\r\n        ContentResolver cR = getContentResolver();\r\n        MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n        return mime.getExtensionFromMimeType(cR.getType(uri));\r\n    }\r\n\r\n\r\n\r\n    private String testing(){\r\n        //asdasd\r\n        return \"gi\";\r\n    }\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/worldwanderers/InportPage.java b/app/src/main/java/com/example/worldwanderers/InportPage.java
--- a/app/src/main/java/com/example/worldwanderers/InportPage.java	(revision 14cfd5e1f0822edb1356a163aab97f12865cbbf1)
+++ b/app/src/main/java/com/example/worldwanderers/InportPage.java	(date 1701120011901)
@@ -179,12 +179,5 @@
 
 
 
-    private String testing(){
-        //asdasd
-        return "gi";
-    }
-
-
-
 
 }
\ No newline at end of file
